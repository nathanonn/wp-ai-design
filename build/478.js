"use strict";(self.webpackChunkai_design_block=self.webpackChunkai_design_block||[]).push([[478],{478:(e,t,n)=>{var o=n(4997),c=n(1609),r=n(4715),s=n(6427),a=n(6087),l=n(7143),i=n(7723),u=n(1474);(0,o.registerBlockType)("ai-design-block/json-to-blocks",{title:"JSON To Blocks",icon:"editor-code",category:"design",attributes:{content:{type:"string",default:""}},edit:function({attributes:e,setAttributes:t,clientId:n}){const[k,d]=(0,a.useState)(null),{replaceBlock:b}=(0,l.useDispatch)("core/block-editor"),p=(0,r.useBlockProps)();return(0,c.createElement)("div",{...p},(0,c.createElement)(s.TextareaControl,{label:(0,i.__)("JSON To Blocks","ai-design-block"),value:e.content,onChange:e=>t({content:e}),rows:10}),(0,c.createElement)(s.Button,{variant:"primary",onClick:()=>{try{const t=JSON.parse(e.content.trim()),c=(e=>{const t=(0,u.NA)(),n=e=>e.filter((e=>t.includes(e.name))).map((e=>{const t=e.innerBlocks?n(e.innerBlocks):[];return(0,o.createBlock)(e.name,e.attributes,t)}));return n(e)})((0,u.V2)(t));c.length>0&&b(n,c)}catch(e){console.error(e),d("Invalid JSON format. Please check your input.")}}},(0,i.__)("Convert to Blocks","ai-design-block")),k&&(0,c.createElement)("p",{className:"error-message"},k))},save:function(){return(0,c.createElement)("div",{...r.useBlockProps.save()})}})}}]);